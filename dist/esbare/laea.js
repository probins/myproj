import{p as s}from"./projections-bc7f026d.js";import{H as t,E as h,F as i}from"./values-6ec7b927.js";import{a}from"./adjust_lon-2464ab76.js";function e(s,t){var h;return s>1e-7?(1-s*s)*(t/(1-(h=s*t)*h)-.5/s*Math.log((1-h)/(1+h))):2*t}var o={init:function(){var s,i=Math.abs(this.lat0);if(Math.abs(i-t)<h?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(i)<h?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=e(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(s){var t,h=[];return h[0]=.3333333333333333*s,t=s*s,h[0]+=.17222222222222222*t,h[1]=.06388888888888888*t,t*=s,h[0]+=.10257936507936508*t,h[1]+=.0664021164021164*t,h[2]=.016415012942191543*t,h}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),s=Math.sin(this.lat0),this.sinb1=e(this.e,s)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*s*s)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(s){var o,r,n,m,d,M,c,E,L,l,O=s.x,b=s.y;if(O=a(O-this.long0),this.sphere){if(d=Math.sin(b),l=Math.cos(b),n=Math.cos(O),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+l*n:1+this.sinph0*d+this.cosph0*l*n)<=h)return null;o=(r=Math.sqrt(2/r))*l*Math.sin(O),r*=this.mode===this.EQUIT?d:this.cosph0*d-this.sinph0*l*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(b+this.lat0)<h)return null;r=i-.5*b,o=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(O),r*=n}}else{switch(c=0,E=0,L=0,n=Math.cos(O),m=Math.sin(O),d=Math.sin(b),M=e(this.e,d),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=M/this.qp,E=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:L=1+this.sinb1*c+this.cosb1*E*n;break;case this.EQUIT:L=1+E*n;break;case this.N_POLE:L=t+b,M=this.qp-M;break;case this.S_POLE:L=b-t,M=this.qp+M}if(Math.abs(L)<h)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:L=Math.sqrt(2/L),r=this.mode===this.OBLIQ?this.ymf*L*(this.cosb1*c-this.sinb1*E*n):(L=Math.sqrt(2/(1+E*n)))*c*this.ymf,o=this.xmf*L*E*m;break;case this.N_POLE:case this.S_POLE:M>=0?(o=(L=Math.sqrt(M))*m,r=n*(this.mode===this.S_POLE?L:-L)):o=r=0}}return s.x=this.a*o+this.x0,s.y=this.a*r+this.y0,s},inverse:function(s){s.x-=this.x0,s.y-=this.y0;var i,e,o,r,n,m,d,M,c,E,L=s.x/this.a,l=s.y/this.a;if(this.sphere){var O,b=0,f=0;if((e=.5*(O=Math.sqrt(L*L+l*l)))>1)return null;switch(e=2*Math.asin(e),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(e),b=Math.cos(e)),this.mode){case this.EQUIT:e=Math.abs(O)<=h?0:Math.asin(l*f/O),L*=f,l=b*O;break;case this.OBLIQ:e=Math.abs(O)<=h?this.lat0:Math.asin(b*this.sinph0+l*f*this.cosph0/O),L*=f*this.cosph0,l=(b-Math.sin(e)*this.sinph0)*O;break;case this.N_POLE:l=-l,e=t-e;break;case this.S_POLE:e-=t}i=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(L,l):0}else{if(d=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(L/=this.dd,l*=this.dd,(m=Math.sqrt(L*L+l*l))<h)return s.x=this.long0,s.y=this.lat0,s;r=2*Math.asin(.5*m/this.rq),o=Math.cos(r),L*=r=Math.sin(r),this.mode===this.OBLIQ?(d=o*this.sinb1+l*r*this.cosb1/m,n=this.qp*d,l=m*this.cosb1*o-l*this.sinb1*r):(d=l*r/m,n=this.qp*d,l=m*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(n=L*L+l*l))return s.x=this.long0,s.y=this.lat0,s;d=1-n/this.qp,this.mode===this.S_POLE&&(d=-d)}i=Math.atan2(L,l),M=Math.asin(d),c=this.apa,E=M+M,e=M+c[0]*Math.sin(E)+c[1]*Math.sin(E+E)+c[2]*Math.sin(E+E+E)}return s.x=a(this.long0+i),s.y=e,s},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};s.add(o);
//# sourceMappingURL=laea.js.map
