import{E as t,H as s,p as h}from"./values-f63d177f.js";import{a,s as i}from"./adjust_lon-db52dfb3.js";var r=.01068115234375;function o(t,s,h,a){return h*=s,s*=s,a[0]*t-h*(a[1]+s*(a[2]+s*(a[3]+s*a[4])))}var M={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=function(t){var s=[];s[0]=1-t*(.25+t*(.046875+t*(.01953125+t*r))),s[1]=t*(.75-t*(.046875+t*(.01953125+t*r)));var h=t*t;return s[2]=h*(.46875-t*(.013020833333333334+.007120768229166667*t)),h*=t,s[3]=h*(.3645833333333333-.005696614583333333*t),s[4]=h*t*.3076171875,s}(this.es),this.ml0=o(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(s){var h,i,r,M=s.x,n=s.y,e=a(M-this.long0),l=Math.sin(n),v=Math.cos(n);if(this.es){var p=v*e,f=Math.pow(p,2),c=this.ep2*Math.pow(v,2),u=Math.pow(c,2),w=Math.abs(v)>t?Math.tan(n):0,d=Math.pow(w,2),x=Math.pow(d,2);h=1-this.es*Math.pow(l,2),p/=Math.sqrt(h);var y=o(n,l,v,this.en);i=this.a*(this.k0*p*(1+f/6*(1-d+c+f/20*(5-18*d+x+14*c-58*d*c+f/42*(61+179*x-x*d-479*d)))))+this.x0,r=this.a*(this.k0*(y-this.ml0+l*e*p/2*(1+f/12*(5-d+9*c+4*u+f/30*(61+x-58*d+270*c-330*d*c+f/56*(1385+543*x-x*d-3111*d))))))+this.y0}else{var b=v*Math.sin(e);if(Math.abs(Math.abs(b)-1)<t)return 93;if(i=.5*this.a*this.k0*Math.log((1+b)/(1-b))+this.x0,r=v*Math.cos(e)/Math.sqrt(1-Math.pow(b,2)),(b=Math.abs(r))>=1){if(b-1>t)return 93;r=0}else r=Math.acos(r);n<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return s.x=i,s.y=r,s},inverse:function(h){var r,M,n,e,l=(h.x-this.x0)*(1/this.a),v=(h.y-this.y0)*(1/this.a);if(this.es)if(M=function(s,h,a){for(var i=1/(1-h),r=s,M=20;M;--M){var n=Math.sin(r),e=1-h*n*n;if(r-=e=(o(r,n,Math.cos(r),a)-s)*(e*Math.sqrt(e))*i,Math.abs(e)<t)return r}return r}(r=this.ml0+v/this.k0,this.es,this.en),Math.abs(M)<s){var p=Math.sin(M),f=Math.cos(M),c=Math.abs(f)>t?Math.tan(M):0,u=this.ep2*Math.pow(f,2),w=Math.pow(u,2),d=Math.pow(c,2),x=Math.pow(d,2);r=1-this.es*Math.pow(p,2);var y=l*Math.sqrt(r)/this.k0,b=Math.pow(y,2);n=M-(r*=c)*b/(1-this.es)*.5*(1-b/12*(5+3*d-9*u*d+u-4*w-b/30*(61+90*d-252*u*d+45*x+46*u-b/56*(1385+3633*d+4095*x+1574*x*d)))),e=a(this.long0+y*(1-b/6*(1+2*d+u-b/20*(5+28*d+24*x+8*u*d+6*u-b/42*(61+662*d+1320*x+720*x*d))))/f)}else n=s*i(v),e=0;else{var m=Math.exp(l/this.k0),k=.5*(m-1/m),g=this.lat0+v/this.k0,q=Math.cos(g);r=Math.sqrt((1-Math.pow(q,2))/(1+Math.pow(k,2))),n=Math.asin(r),v<0&&(n=-n),e=0===k&&0===q?0:a(Math.atan2(k,q)+this.long0)}return h.x=e,h.y=n,h},names:["Transverse_Mercator","Transverse Mercator","tmerc"]};h.add(M);
//# sourceMappingURL=tmerc.js.map
