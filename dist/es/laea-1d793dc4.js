import{H as s,E as t,F as h}from"./index-47a7fca3.js";import{a as i}from"./adjust_lon-70dcf87c.js";function a(s,t){var h;return s>1e-7?(1-s*s)*(t/(1-(h=s*t)*h)-.5/s*Math.log((1-h)/(1+h))):2*t}var e={init:function(){var h,i=Math.abs(this.lat0);if(Math.abs(i-s)<t?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(i)<t?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=a(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(s){var t,h=[];return h[0]=.3333333333333333*s,t=s*s,h[0]+=.17222222222222222*t,h[1]=.06388888888888888*t,t*=s,h[0]+=.10257936507936508*t,h[1]+=.0664021164021164*t,h[2]=.016415012942191543*t,h}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),h=Math.sin(this.lat0),this.sinb1=a(this.e,h)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*h*h)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var o,r,n,m,d,M,c,E,L,O,l=e.x,f=e.y;if(l=i(l-this.long0),this.sphere){if(d=Math.sin(f),O=Math.cos(f),n=Math.cos(l),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+O*n:1+this.sinph0*d+this.cosph0*O*n)<=t)return null;o=(r=Math.sqrt(2/r))*O*Math.sin(l),r*=this.mode===this.EQUIT?d:this.cosph0*d-this.sinph0*O*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(f+this.lat0)<t)return null;r=h-.5*f,o=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(l),r*=n}}else{switch(c=0,E=0,L=0,n=Math.cos(l),m=Math.sin(l),d=Math.sin(f),M=a(this.e,d),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=M/this.qp,E=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:L=1+this.sinb1*c+this.cosb1*E*n;break;case this.EQUIT:L=1+E*n;break;case this.N_POLE:L=s+f,M=this.qp-M;break;case this.S_POLE:L=f-s,M=this.qp+M}if(Math.abs(L)<t)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:L=Math.sqrt(2/L),r=this.mode===this.OBLIQ?this.ymf*L*(this.cosb1*c-this.sinb1*E*n):(L=Math.sqrt(2/(1+E*n)))*c*this.ymf,o=this.xmf*L*E*m;break;case this.N_POLE:case this.S_POLE:M>=0?(o=(L=Math.sqrt(M))*m,r=n*(this.mode===this.S_POLE?L:-L)):o=r=0}}return e.x=this.a*o+this.x0,e.y=this.a*r+this.y0,e},inverse:function(h){h.x-=this.x0,h.y-=this.y0;var a,e,o,r,n,m,d,M,c,E,L=h.x/this.a,O=h.y/this.a;if(this.sphere){var l,f=0,b=0;if((e=.5*(l=Math.sqrt(L*L+O*O)))>1)return null;switch(e=2*Math.asin(e),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(b=Math.sin(e),f=Math.cos(e)),this.mode){case this.EQUIT:e=Math.abs(l)<=t?0:Math.asin(O*b/l),L*=b,O=f*l;break;case this.OBLIQ:e=Math.abs(l)<=t?this.lat0:Math.asin(f*this.sinph0+O*b*this.cosph0/l),L*=b*this.cosph0,O=(f-Math.sin(e)*this.sinph0)*l;break;case this.N_POLE:O=-O,e=s-e;break;case this.S_POLE:e-=s}a=0!==O||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(L,O):0}else{if(d=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(L/=this.dd,O*=this.dd,(m=Math.sqrt(L*L+O*O))<t)return h.x=this.long0,h.y=this.lat0,h;r=2*Math.asin(.5*m/this.rq),o=Math.cos(r),L*=r=Math.sin(r),this.mode===this.OBLIQ?(d=o*this.sinb1+O*r*this.cosb1/m,n=this.qp*d,O=m*this.cosb1*o-O*this.sinb1*r):(d=O*r/m,n=this.qp*d,O=m*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(O=-O),!(n=L*L+O*O))return h.x=this.long0,h.y=this.lat0,h;d=1-n/this.qp,this.mode===this.S_POLE&&(d=-d)}a=Math.atan2(L,O),M=Math.asin(d),c=this.apa,E=M+M,e=M+c[0]*Math.sin(E)+c[1]*Math.sin(E+E)+c[2]*Math.sin(E+E+E)}return h.x=i(this.long0+a),h.y=e,h},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};export{e as u};
//# sourceMappingURL=laea-1d793dc4.js.map
